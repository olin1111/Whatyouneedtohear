<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>What do you need to hear today?</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }
        canvas {
            display: block;
        }
    </style>
</head>
<body>
    <script>
        let quotes = [
            “I”f nothing changes, nothing changes,
            "You are already blessed in so many ways, focus on that",
            "Acting like you don't care is not letting go",
            "There's a future version of you who's proud you were strong enough",
            "Don't take criticism from someone you wouldn't take advice from",
            "Be where your feet are",
            "Once is a mistake, twice is a choice",
            "Growth is not linear",
            "Don't make yourself uncomfortable just to make others comfortable",
            "I hope things get simpeler for you, peaceful",
            "I hope it comes your way soon",
            "It will work out better than you imagined",
            "Failure is part of succes",
            "Plot twist: it all goes well and it keeps getting better",
            "Remember when you wanted everything you have now?",
            "Someone still smiles when they remember a moment with you",
            "Someone still remembers a compliment you gave them and it boosts their confidence",
            "You're safe. It's just thoughts",
            "Life doesn't end when you open up to someone",
            "Life doesn't end when you let go of someone you loved",
            "Life doesn't end when you start talking about your past",
            "Life doesn't end when something doesn't go as planned",
            "Life doesn't end when you gain weight",
            "Life doesn't end when you get rejected",
            "You can be very proud of yourself, you are doing very well",
            "It will always be okay, just think of that one time you thought it wasn't going to be okay."
            “Being unique is a gift”,
            "The world is kinder to you than you think",
            "Life doesn't end when you open up to someone",
            "Demand a lot from yourself, expect little from others, that will save you a lot of annoyance",
            "Hey champ, you really should trust yourself a little more",
            "Positive people also have negative thoughts. That is normal. But what they don’t do is let these thoughts grow unnecessarily",
            "There will be no one you talk to as much as yourself. Make it a fun, positive, uplifting conversation. As often as possible.",
            "Spend time with people who give you energy, not people who drain it”,
            “You have enough time to do everything you want. There is no rush",
            "Talk about it. As much as you want",
            “Don’t say goodbye when you’re fighting”,
            "You get what you fight for, not what you wish for",
            "Don't make yourself less fun by adapting to someone else",
            “Your purpose will give you energy”,
            "The chains that hold you back were never put there by someone else",
            "Asking for help doesn't mean you give up, it means you refuse to give up",
            "If you ever get the chance to treat them the way they treated you, I hope you choose to walk away and do better",
            "Day to day what you choose, what you think and what you do is who you become",
            "Who you become is more important than who you have been",
            "Be patient, all the beautiful things you work hard for are on their way to you",
            "Make yourself a priority. You are the only one who will always be there.",
            "A beautiful appearance starts with a beautiful soul",
            "Love others from your heart and not from your needs"
        ];

        let selectedQuote = "";
        let quoteActive = false;

        let flashCounter = 0;
        let flashDuration = 60;
        let flashInterval = 1;
        let flashPhase = true;

        let promptY;
        let promptTargetY;
        let promptSliding = false;

        function setup() {
            createCanvas(windowWidth, windowHeight);
            textAlign(CENTER, CENTER);
            rectMode(CENTER);
            promptY = height / 2;
            promptTargetY = 80;
            noLoop();
        }

        function draw() {
            // Light pink background
            background(255, 192, 203);

            // Prompt slide
            if (promptSliding) {
                promptY = lerp(promptY, promptTargetY, 0.05);
                if (abs(promptY - promptTargetY) < 1) {
                    promptY = promptTargetY;
                    promptSliding = false;
                }
            }

            drawPrompt(promptY);

            if (quoteActive) {
                // Flash-fase (timer cycling through quotes quickly)
                if (flashPhase) {
                    if (frameCount % flashInterval === 0) {
                        selectRandomQuote();
                    }
                    flashCounter++;
                    if (flashCounter >= flashDuration) {
                        flashPhase = false;
                    }
                }

                // Quote tonen
                fill(0);
                textSize(24);
                text(selectedQuote, width / 2, height / 2 + 50, width * 0.8);
            }
        }

        function drawPrompt(y) {
            fill(50);
            textAlign(CENTER, CENTER);

            if (width < 400) textSize(20);
            else if (width < 600) textSize(26);
            else textSize(32);
            text("What do you need to hear today?", width / 2, y - 20);

            textSize(15);
            text("Random advice from strangers to strangers: tap to unlock", width / 2, y + 10);
            text("@olinland_ / @coolgirlolin", width / 2, y + 40);
        }

        function selectRandomQuote() {
            let index = int(random(quotes.length));
            selectedQuote = quotes[index];
        }

        function userInteracted() {
            if (!quoteActive) {
                try {
                    if (getAudioContext) {
                        getAudioContext().resume();
                    }
                } catch(e) {
                    // Audio context not available, continue anyway
                }
                quoteActive = true;
                flashCounter = 0;
                flashPhase = true;
                promptSliding = true;
                loop();
            }
            return false;
        }

        function mousePressed() {
            userInteracted();
            return false;
        }

        function touchStarted() {
            userInteracted();
            return false;
        }

        function touchEnded(event) {
            if (event) event.preventDefault();
            userInteracted();
            return false;
        }

        function windowResized() {
            resizeCanvas(windowWidth, windowHeight);
            promptY = quoteActive ? 80 : height / 2;
            promptTargetY = 80;
        }
    </script>
</body>
</html>